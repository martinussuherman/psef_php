<script>
  function upload_stra(data) {
    var formData = new FormData();
    formData.append('file', $('#straUrl')[0].files[0]);
    var data_upload = $('#straUrl')[0].files[0];
    console.log(data_upload)
    var val_upload = $('#straUrl').val().toLowerCase(),
      regex = new RegExp("(.*?)\.(pdf)$");

    if (regex.test(val_upload) || val_upload == '') {
      if (data_upload.size < 5300000 && data_upload.size > 0) {
        $.ajax({
          url: url_api_x + 'UploadUserFile',
          type: 'POST',
          beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', 'Bearer ' + accesstoken + '');
          },
          data: formData,
          processData: false,
          contentType: false,
          success: function (datax, textStatus, xhr) {
            $('#v-straUrl').val(datax.value)
            if (data == 'edit') {
              let split_dokumen = datax.value.split("/");
              let name_dokumen = split_dokumen[split_dokumen.length - 1]
              $('#close-straUrl').html(name_dokumen)
              $("#close-straUrl").attr("href", "https://psef.kemkes.go.id" + datax.value);
              $("#straUrl").prop('required', true);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            if (data == 'edit') {
              $("#straUrl").prop('required', true);
            }
            $("#straUrl").val('');
            $('#close-straUrl').html('No file chosen')
            $("#close-straUrl").attr("href", "#");
            $('#v-straUrl').val('')
            swal({
              type: 'error',
              title: 'Maaf !',
              text: 'Pastikan Berkas yang anda upload sesuai dengan ketentuan!',
            })
          }
        });
      } else {
        if (data == 'edit') {
          $("#straUrl").prop('required', true);
        }
        $("#straUrl").val('');
        $('#close-straUrl').html('No file chosen')
        $("#close-straUrl").attr("href", "#");
        $('#v-straUrl').val('')
        swal({
          type: 'error',
          title: 'Maaf !',
          text: 'Pastikan berkas yang anda upload maksimal 1MB',
        })
      }
    } else {
      if (data == 'edit') {
        $("#straUrl").prop('required', true);
      }
      $("#straUrl").val('');
      $('#close-straUrl').html('No file chosen')
      $("#close-straUrl").attr("href", "#");
      $('#v-straUrl').val('')
      swal({
        type: 'error',
        title: 'Maaf !',
        text: 'Pastikan berkas yang anda upload berupa PDF',
      })
    }
  }

  function upload_dokapi(data) {
    var formData = new FormData();
    formData.append('file', $('#dokumenApiUrl')[0].files[0]);
    var data_upload = $('#dokumenApiUrl')[0].files[0];
    var val_upload = $('#dokumenApiUrl').val().toLowerCase(),
      regex = new RegExp("(.*?)\.(pdf)$");

    if (regex.test(val_upload) || val_upload == '') {
      if (data_upload.size < 5300000 && data_upload.size > 0) {
        $.ajax({
          url: url_api_x + 'UploadUserFile',
          type: 'POST',
          beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', 'Bearer ' + accesstoken + '');
          },
          data: formData,
          processData: false,
          contentType: false,
          success: function (datax, textStatus, xhr) {
            $('#v-dokumenApiUrl').val(datax.value)
            if (data == 'edit') {
              let split_dokumen = datax.value.split("/");
              let name_dokumen = split_dokumen[split_dokumen.length - 1]
              $('#close-dokumenApiUrl').html(name_dokumen)
              $("#close-dokumenApiUrl").attr("href", "https://psef.kemkes.go.id" + datax.value);
              $("#dokumenApiUrl").prop('required', true);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            if (data == 'edit') {
              $("#dokumenApiUrl").prop('required', true);
            }
            $("#dokumenApiUrl").val('');
            $('#close-dokumenApiUrl').html('No file chosen')
            $("#close-dokumenApiUrl").attr("href", "#");
            $('#v-dokumenApiUrl').val('')
            swal({
              type: 'error',
              title: 'Maaf !',
              text: 'Pastikan Berkas yang anda upload sesuai dengan ketentuan!',
            })
          }
        });
      } else {
        if (data == 'edit') {
          $("#dokumenApiUrl").prop('required', true);
        }
        $("#dokumenApiUrl").val('');
        $('#close-dokumenApiUrl').html('No file chosen')
        $("#close-dokumenApiUrl").attr("href", "#");
        $('#v-dokumenApiUrl').val('')
        swal({
          type: 'error',
          title: 'Maaf !',
          text: 'Pastikan berkas yang anda upload maksimal 1MB',
        })
      }
    } else {
      if (data == 'edit') {
        $("#dokumenApiUrl").prop('required', true);
      }
      $("#dokumenApiUrl").val('');
      $('#close-dokumenApiUrl').html('No file chosen')
      $("#close-dokumenApiUrl").attr("href", "#");
      $('#v-dokumenApiUrl').val('')
      swal({
        type: 'error',
        title: 'Maaf !',
        text: 'Pastikan berkas yang anda upload berupa PDF',
      })
    }
  }

  function upload_bisnis(data) {
    var formData = new FormData();
    formData.append('file', $('#prosesBisnisUrl')[0].files[0]);
    var data_upload = $('#prosesBisnisUrl')[0].files[0];
    var val_upload = $('#prosesBisnisUrl').val().toLowerCase(),
      regex = new RegExp("(.*?)\.(pdf)$");

    if (regex.test(val_upload) || val_upload == '') {
      if (data_upload.size < 5300000 && data_upload.size > 0) {
        $.ajax({
          url: url_api_x + 'UploadUserFile',
          type: 'POST',
          beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', 'Bearer ' + accesstoken + '');
          },
          data: formData,
          processData: false,
          contentType: false,
          success: function (datax, textStatus, xhr) {
            $('#v-prosesBisnisUrl').val(datax.value)
            if (data == 'edit') {
              let split_dokumen = datax.value.split("/");
              let name_dokumen = split_dokumen[split_dokumen.length - 1]
              $('#close-prosesBisnisUrl').html(name_dokumen)
              $("#close-prosesBisnisUrl").attr("href", "https://psef.kemkes.go.id" + datax.value);
              $("#prosesBisnisUrl").prop('required', true);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            if (data == 'edit') {
              $("#prosesBisnisUrl").prop('required', true);
            }
            $("#prosesBisnisUrl").val('');
            $('#close-prosesBisnisUrl').html('No file chosen')
            $("#close-prosesBisnisUrl").attr("href", "#");
            $('#v-prosesBisnisUrl').val('')
            swal({
              type: 'error',
              title: 'Maaf !',
              text: 'Pastikan Berkas yang anda upload sesuai dengan ketentuan!',
            })
          }
        });
      } else {
        if (data == 'edit') {
          $("#prosesBisnisUrl").prop('required', true);
        }
        $("#prosesBisnisUrl").val('');
        $('#close-prosesBisnisUrl').html('No file chosen')
        $("#close-prosesBisnisUrl").attr("href", "#");
        $('#v-prosesBisnisUrl').val('')
        swal({
          type: 'error',
          title: 'Maaf !',
          text: 'Pastikan berkas yang anda upload maksimal 1MB',
        })
      }
    } else {
      if (data == 'edit') {
        $("#prosesBisnisUrl").prop('required', true);
      }
      $("#prosesBisnisUrl").val('');
      $('#close-prosesBisnisUrl').html('No file chosen')
      $("#close-prosesBisnisUrl").attr("href", "#");
      $('#v-prosesBisnisUrl').val('')
      swal({
        type: 'error',
        title: 'Maaf !',
        text: 'Pastikan berkas yang anda upload berupa PDF',
      })
    }
  }

  function upload_dok_pse(data) {
    var formData = new FormData();
    formData.append('file', $('#dokumenPseUrl')[0].files[0]);
    var data_upload = $('#dokumenPseUrl')[0].files[0];
    var val_upload = $('#dokumenPseUrl').val().toLowerCase(),
      regex = new RegExp("(.*?)\.(pdf)$");

    if (regex.test(val_upload) || val_upload == '') {
      if (data_upload.size < 5300000 && data_upload.size > 0) {
        $.ajax({
          url: url_api_x + 'UploadUserFile',
          type: 'POST',
          beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', 'Bearer ' + accesstoken + '');
          },
          data: formData,
          processData: false,
          contentType: false,
          success: function (datax, textStatus, xhr) {
            $('#v-dokumenPseUrl').val(datax.value)
            if (data == 'edit') {
              let split_dokumen = datax.value.split("/");
              let name_dokumen = split_dokumen[split_dokumen.length - 1]
              $('#close-dokumenPseUrl').html(name_dokumen)
              $("#close-dokumenPseUrl").attr("href", "https://psef.kemkes.go.id" + datax.value);
              $("#dokumenPseUrl").prop('required', true);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            if (data == 'edit') {
              $("#dokumenPseUrl").prop('required', true);
            }
            $("#dokumenPseUrl").val('');
            $('#close-dokumenPseUrl').html('No file chosen')
            $("#close-dokumenPseUrl").attr("href", "#");
            $('#v-dokumenPseUrl').val('')
            swal({
              type: 'error',
              title: 'Maaf !',
              text: 'Pastikan Berkas yang anda upload sesuai dengan ketentuan!',
            })
          }
        });
      } else {
        if (data == 'edit') {
          $("#dokumenPseUrl").prop('required', true);
        }
        $("#dokumenPseUrl").val('');
        $('#close-dokumenPseUrl').html('No file chosen')
        $("#close-dokumenPseUrl").attr("href", "#");
        $('#v-dokumenPseUrl').val('')
        swal({
          type: 'error',
          title: 'Maaf !',
          text: 'Pastikan berkas yang anda upload maksimal 1MB',
        })
      }
    } else {
      if (data == 'edit') {
        $("#dokumenPseUrl").prop('required', true);
      }
      $("#dokumenPseUrl").val('');
      $('#close-dokumenPseUrl').html('No file chosen')
      $("#close-dokumenPseUrl").attr("href", "#");
      $('#v-dokumenPseUrl').val('')
      swal({
        type: 'error',
        title: 'Maaf !',
        text: 'Pastikan berkas yang anda upload berupa PDF',
      })
    }
  }

  function upload_permohonan(data) {
    var formData = new FormData();
    formData.append('file', $('#suratPermohonanUrl')[0].files[0]);
    var data_upload = $('#suratPermohonanUrl')[0].files[0];
    var val_upload = $('#suratPermohonanUrl').val().toLowerCase(),
      regex = new RegExp("(.*?)\.(pdf)$");

    if (regex.test(val_upload) || val_upload == '') {
      if (data_upload.size < 5300000 && data_upload.size > 0) {
        $.ajax({
          url: url_api_x + 'UploadUserFile',
          type: 'POST',
          beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', 'Bearer ' + accesstoken + '');
          },
          data: formData,
          processData: false,
          contentType: false,
          success: function (datax, textStatus, xhr) {
            $('#v-suratPermohonanUrl').val(datax.value)
            if (data == 'edit') {
              let split_dokumen = datax.value.split("/");
              let name_dokumen = split_dokumen[split_dokumen.length - 1]
              $('#close-suratPermohonanUrl').html(name_dokumen)
              $("#close-suratPermohonanUrl").attr("href", "https://psef.kemkes.go.id" + datax.value);
              $("#suratPermohonanUrl").prop('required', true);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            if (data == 'edit') {
              $("#suratPermohonanUrl").prop('required', true);
            }
            $("#suratPermohonanUrl").val('');
            $('#close-suratPermohonanUrl').html('No file chosen')
            $("#close-suratPermohonanUrl").attr("href", "#");
            $('#v-suratPermohonanUrl').val('')
            swal({
              type: 'error',
              title: 'Maaf !',
              text: 'Pastikan Berkas yang anda upload sesuai dengan ketentuan!',
            })
          }
        });
      } else {
        if (data == 'edit') {
          $("#suratPermohonanUrl").prop('required', true);
        }
        $("#suratPermohonanUrl").val('');
        $('#close-suratPermohonanUrl').html('No file chosen')
        $("#close-suratPermohonanUrl").attr("href", "#");
        $('#v-suratPermohonanUrl').val('')
        swal({
          type: 'error',
          title: 'Maaf !',
          text: 'Pastikan berkas yang anda upload maksimal 1MB',
        })
      }
    } else {
      if (data == 'edit') {
        $("#suratPermohonanUrl").prop('required', true);
      }
      $("#suratPermohonanUrl").val('');
      $('#close-suratPermohonanUrl').html('No file chosen')
      $("#close-suratPermohonanUrl").attr("href", "#");
      $('#v-suratPermohonanUrl').val('')
      swal({
        type: 'error',
        title: 'Maaf !',
        text: 'Pastikan berkas yang anda upload berupa PDF',
      })
    }
  }

  function upload_sppl(data) {
    var formData = new FormData();
    formData.append('file', $('#spplUrl')[0].files[0]);
    var data_upload = $('#spplUrl')[0].files[0];
    var val_upload = $('#spplUrl').val().toLowerCase(),
      regex = new RegExp("(.*?)\.(pdf)$");

    if (regex.test(val_upload) || val_upload == '') {
      if (data_upload.size < 5300000 && data_upload.size > 0) {
        $.ajax({
          url: url_api_x + 'UploadUserFile',
          type: 'POST',
          beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', 'Bearer ' + accesstoken + '');
          },
          data: formData,
          processData: false,
          contentType: false,
          success: function (datax, textStatus, xhr) {
            $('#v-spplUrl').val(datax.value)
            if (data == 'edit') {
              let split_dokumen = datax.value.split("/");
              let name_dokumen = split_dokumen[split_dokumen.length - 1]
              $('#close-spplUrl').html(name_dokumen)
              $("#close-spplUrl").attr("href", "https://psef.kemkes.go.id" + datax.value);
              $("#spplUrl").prop('required', true);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            if (data == 'edit') {
              $("#spplUrl").prop('required', true);
            }
            $("#spplUrl").val('');
            $('#close-spplUrl').html('No file chosen')
            $("#close-spplUrl").attr("href", "#");
            $('#v-spplUrl').val('')
            swal({
              type: 'error',
              title: 'Maaf !',
              text: 'Pastikan Berkas yang anda upload sesuai dengan ketentuan!',
            })
          }
        });
      } else {
        if (data == 'edit') {
          $("#spplUrl").prop('required', true);
        }
        $("#spplUrl").val('');
        $('#close-spplUrl').html('No file chosen')
        $("#close-spplUrl").attr("href", "#");
        $('#v-spplUrl').val('')
        swal({
          type: 'error',
          title: 'Maaf !',
          text: 'Pastikan berkas yang anda upload maksimal 1MB',
        })
      }
    } else {
      if (data == 'edit') {
        $("#spplUrl").prop('required', true);
      }
      $("#spplUrl").val('');
      $('#close-spplUrl').html('No file chosen')
      $("#close-spplUrl").attr("href", "#");
      $('#v-spplUrl').val('')
      swal({
        type: 'error',
        title: 'Maaf !',
        text: 'Pastikan berkas yang anda upload berupa PDF',
      })
    }
  }

  function upload_izin_lokasi(data) {
    var formData = new FormData();
    formData.append('file', $('#izinLokasiUrl')[0].files[0]);
    var data_upload = $('#izinLokasiUrl')[0].files[0];
    var val_upload = $('#izinLokasiUrl').val().toLowerCase(),
      regex = new RegExp("(.*?)\.(pdf)$");

    if (regex.test(val_upload) || val_upload == '') {
      if (data_upload.size < 5300000 && data_upload.size > 0) {
        $.ajax({
          url: url_api_x + 'UploadUserFile',
          type: 'POST',
          beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', 'Bearer ' + accesstoken + '');
          },
          data: formData,
          processData: false,
          contentType: false,
          success: function (datax, textStatus, xhr) {
            $('#v-izinLokasiUrl').val(datax.value)
            if (data == 'edit') {
              let split_dokumen = datax.value.split("/");
              let name_dokumen = split_dokumen[split_dokumen.length - 1]
              $('#close-izinLokasiUrl').html(name_dokumen)
              $("#close-izinLokasiUrl").attr("href", "https://psef.kemkes.go.id" + datax.value);
              $("#izinLokasiUrl").prop('required', true);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            if (data == 'edit') {
              $("#izinLokasiUrl").prop('required', true);
            }
            $("#izinLokasiUrl").val('');
            $('#close-izinLokasiUrl').html('No file chosen')
            $("#close-izinLokasiUrl").attr("href", "#");
            $('#v-izinLokasiUrl').val('')
            swal({
              type: 'error',
              title: 'Maaf !',
              text: 'Pastikan Berkas yang anda upload sesuai dengan ketentuan!',
            })
          }
        });
      } else {
        if (data == 'edit') {
          $("#izinLokasiUrl").prop('required', true);
        }
        $("#izinLokasiUrl").val('');
        $('#close-izinLokasiUrl').html('No file chosen')
        $("#close-izinLokasiUrl").attr("href", "#");
        $('#v-izinLokasiUrl').val('')
        swal({
          type: 'error',
          title: 'Maaf !',
          text: 'Pastikan berkas yang anda upload maksimal 1MB',
        })
      }
    } else {
      if (data == 'edit') {
        $("#izinLokasiUrl").prop('required', true);
      }
      $("#izinLokasiUrl").val('');
      $('#close-izinLokasiUrl').html('No file chosen')
      $("#close-izinLokasiUrl").attr("href", "#");
      $('#v-izinLokasiUrl').val('')
      swal({
        type: 'error',
        title: 'Maaf !',
        text: 'Pastikan berkas yang anda upload berupa PDF',
      })
    }
  }

  function upload_imb(data) {
    var formData = new FormData();
    formData.append('file', $('#imbUrl')[0].files[0]);
    var data_upload = $('#imbUrl')[0].files[0];
    var val_upload = $('#imbUrl').val().toLowerCase(),
      regex = new RegExp("(.*?)\.(pdf)$");

    if (regex.test(val_upload) || val_upload == '') {
      if (data_upload.size < 5300000 && data_upload.size > 0) {
        $.ajax({
          url: url_api_x + 'UploadUserFile',
          type: 'POST',
          beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', 'Bearer ' + accesstoken + '');
          },
          data: formData,
          processData: false,
          contentType: false,
          success: function (datax, textStatus, xhr) {
            $('#v-imbUrl').val(datax.value)
            if (data == 'edit') {
              let split_dokumen = datax.value.split("/");
              let name_dokumen = split_dokumen[split_dokumen.length - 1]
              $('#close-imbUrl').html(name_dokumen)
              $("#close-imbUrl").attr("href", "https://psef.kemkes.go.id" + datax.value);
              $("#imbUrl").prop('required', true);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            if (data == 'edit') {
              $("#imbUrl").prop('required', true);
            }
            $("#imbUrl").val('');
            $('#close-imbUrl').html('No file chosen')
            $("#close-imbUrl").attr("href", "#");
            $('#v-imbUrl').val('')
            swal({
              type: 'error',
              title: 'Maaf !',
              text: 'Pastikan Berkas yang anda upload sesuai dengan ketentuan!',
            })
          }
        });
      } else {
        if (data == 'edit') {
          $("#imbUrl").prop('required', true);
        }
        $("#imbUrl").val('');
        $('#close-imbUrl').html('No file chosen')
        $("#close-imbUrl").attr("href", "#");
        $('#v-imbUrl').val('')
        swal({
          type: 'error',
          title: 'Maaf !',
          text: 'Pastikan berkas yang anda upload maksimal 1MB',
        })
      }
    } else {
      if (data == 'edit') {
        $("#imbUrl").prop('required', true);
      }
      $("#imbUrl").val('');
      $('#close-imbUrl').html('No file chosen')
      $("#close-imbUrl").attr("href", "#");
      $('#v-imbUrl').val('')
      swal({
        type: 'error',
        title: 'Maaf !',
        text: 'Pastikan berkas yang anda upload berupa PDF',
      })
    }
  }

  function upload_pnbp(data) {
    var formData = new FormData();
    formData.append('file', $('#pembayaranPnbpUrl')[0].files[0]);
    var data_upload = $('#pembayaranPnbpUrl')[0].files[0];
    var val_upload = $('#pembayaranPnbpUrl').val().toLowerCase(),
      regex = new RegExp("(.*?)\.(pdf)$");

    if (regex.test(val_upload) || val_upload == '') {
      if (data_upload.size < 5300000 && data_upload.size > 0) {
        $.ajax({
          url: url_api_x + 'UploadUserFile',
          type: 'POST',
          beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', 'Bearer ' + accesstoken + '');
          },
          data: formData,
          processData: false,
          contentType: false,
          success: function (datax, textStatus, xhr) {
            $('#v-pembayaranPnbpUrl').val(datax.value)
            if (data == 'edit') {
              let split_dokumen = datax.value.split("/");
              let name_dokumen = split_dokumen[split_dokumen.length - 1]
              $('#close-pembayaranPnbpUrl').html(name_dokumen)
              $("#close-pembayaranPnbpUrl").attr("href", "https://psef.kemkes.go.id" + datax.value);
              $("#pembayaranPnbpUrl").prop('required', true);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            if (data == 'edit') {
              $("#pembayaranPnbpUrl").prop('required', true);
            }
            $("#pembayaranPnbpUrl").val('');
            $('#close-pembayaranPnbpUrl').html('No file chosen')
            $("#close-pembayaranPnbpUrl").attr("href", "#");
            $('#v-pembayaranPnbpUrl').val('')
            swal({
              type: 'error',
              title: 'Maaf !',
              text: 'Pastikan Berkas yang anda upload sesuai dengan ketentuan!',
            })
          }
        });
      } else {
        if (data == 'edit') {
          $("#pembayaranPnbpUrl").prop('required', true);
        }
        $("#pembayaranPnbpUrl").val('');
        $('#close-pembayaranPnbpUrl').html('No file chosen')
        $("#close-pembayaranPnbpUrl").attr("href", "#");
        $('#v-pembayaranPnbpUrl').val('')
        swal({
          type: 'error',
          title: 'Maaf !',
          text: 'Pastikan berkas yang anda upload maksimal 1MB',
        })
      }
    } else {
      if (data == 'edit') {
        $("#pembayaranPnbpUrl").prop('required', true);
      }
      $("#pembayaranPnbpUrl").val('');
      $('#close-pembayaranPnbpUrl').html('No file chosen')
      $("#close-pembayaranPnbpUrl").attr("href", "#");
      $('#v-pembayaranPnbpUrl').val('')
      swal({
        type: 'error',
        title: 'Maaf !',
        text: 'Pastikan berkas yang anda upload berupa PDF',
      })
    }
  }

</script>
